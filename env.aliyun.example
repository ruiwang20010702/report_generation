# ========================================
# 数据库配置（PostgreSQL）
# ========================================
# 阿里云 RDS PostgreSQL 连接信息
DB_HOST=your-database-host.rds.aliyuncs.com
DB_PORT=5432
DB_NAME=your_database_name
DB_USER=your_database_user
DB_PASSWORD=your_database_password

# 数据库连接池配置（可选）
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECTION_TIMEOUT=2000

# SSL 配置（生产环境推荐启用）
DB_SSL=true
DB_SSL_REJECT_UNAUTHORIZED=false

# ========================================
# JWT 配置
# ========================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# ========================================
# 阿里云语音服务配置（国内首选方案）
# ========================================
#
# 🇨🇳 优势：
# - 无需VPN，国内直接访问
# - 每月免费2小时（120分钟）
# - 支持英语识别和说话人分离
# - 价格：¥0.25/分钟（约$0.035）
#
# 📝 获取步骤：
# 1. 注册阿里云账号: https://www.aliyun.com/
# 2. 开通智能语音服务: https://nls-portal.console.aliyun.com/
# 3. 创建项目获取 AppKey
# 4. 创建 AccessKey（AccessKey ID + AccessKey Secret）
#
# 📚 详细文档：docs/technical/ALIYUN_INTEGRATION.md

# 阿里云 AccessKey ID（类似：LTAI5txxxxxxxxxxxxxxxx）
ALIYUN_ACCESS_KEY_ID=your_access_key_id_here

# 阿里云 AccessKey Secret（类似：xxxxxxxxxxxxxxxxxxxxxxxxxx）
ALIYUN_ACCESS_KEY_SECRET=your_access_key_secret_here

# 阿里云智能语音 AppKey（类似：nls-xxxxxxxxxxxxx）
# 注意：此AppKey用于NLS服务，通义听悟使用下面的AppKey
ALIYUN_NLS_APP_KEY=your_app_key_here

# ========================================
# 通义听悟服务配置（推荐使用）
# ========================================
#
# 🎯 优势：
# - 价格便宜：¥0.01/分钟（比NLS便宜25倍）
# - 免费额度高：每天2小时（比NLS多50倍）
# - 支持直接传URL（FileUrl参数）
# - 支持说话人分离
# - 支持多种音视频格式
# - 国内访问速度快，无需VPN
#
# 📝 获取步骤：
# 1. 注册阿里云账号并完成实名认证
# 2. 登录通义听悟控制台：https://tingwu.console.aliyun.com/
# 3. 开通服务（选择试用或商用）
# 4. 创建项目，获取项目AppKey
# 5. 创建AccessKey（AccessKey ID + AccessKey Secret）
#
# 📚 详细文档：docs/technical/TINGWU_API_DOCUMENTATION.md

# 通义听悟项目AppKey（在通义听悟控制台创建项目后获取）
# 重要：必须与AccessKey ID和Secret归属同一阿里云账号或RAM用户
ALIYUN_TINGWU_APP_KEY=your_tingwu_app_key_here

# ========================================
# OpenAI 配置（用于 GPT-4 分析和 Whisper 备用转录）
# ========================================

OPENAI_API_KEY=sk-your-openai-api-key-here

# 可选：代理配置（如果需要）
# HTTPS_PROXY=http://127.0.0.1:4780
# ALL_PROXY=socks5h://127.0.0.1:4781

# ========================================
# AssemblyAI 配置（可选备用方案，需要VPN）
# ========================================

# ASSEMBLYAI_API_KEY=your_assemblyai_key_here

# ========================================
# 智能降级策略
# ========================================
#
# 系统会按以下顺序自动选择转录服务：
#
# 1️⃣ 阿里云（如果配置）
#    - 国内访问，无需VPN
#    - 免费额度：120分钟/月
#    - 速度快，延迟低
#
# 2️⃣ AssemblyAI（如果配置）
#    - 需要国际网络访问
#    - 免费额度：300分钟/月
#    - 功能强大
#
# 3️⃣ OpenAI Whisper（保底方案）
#    - 付费：$0.006/分钟
#    - 准确率高
#
# 💡 推荐配置：
# - 国内用户：配置阿里云 + OpenAI
# - 国际用户：配置 AssemblyAI + OpenAI
# - 最佳方案：配置全部三个服务（自动降级）

# ========================================
# 邮件服务配置（阿里云邮件推送）
# ========================================
#
# 📧 阿里云邮件推送配置（推荐用于生产环境）
# - 高送达率，专业的邮件发送服务
# - 详细的发送统计和报表
# - 国内用户访问速度快（华东区域）
#
# 📝 配置步骤：
# 1. 登录阿里云控制台，开通"邮件推送"服务
# 2. 选择发信区域（华东/新加坡/美国/德国）
# 3. 创建发信域名并完成域名验证（添加 DNS 记录）
# 4. 在发信域名下创建发信地址并设置 SMTP 密码
# 5. 根据区域配置对应的 SMTP_HOST
#
# 📚 详细文档：docs/getting-started/EMAIL_SETUP.md

# 华东区域（推荐国内用户）
SMTP_HOST=smtpdm.aliyun.com
SMTP_PORT=465
SMTP_USER=your-sender-address@yourdomain.com
SMTP_PASS=your-smtp-password
SMTP_FROM=your-sender-address@yourdomain.com

# 其他区域示例（根据您选择的区域使用）：
# 新加坡: SMTP_HOST=smtpdm-ap-southeast-1.aliyun.com
# 美国:   SMTP_HOST=smtpdm-us-west-1.aliyun.com
# 德国:   SMTP_HOST=smtpdm-eu-central-1.aliyun.com

# ========================================
# Supabase 配置（用于报告分享功能）
# ========================================

# VITE_SUPABASE_URL=your_supabase_url
# VITE_SUPABASE_ANON_KEY=your_supabase_anon_key

# ========================================
# 其他配置
# ========================================

# 是否使用模拟数据（开发测试用）
USE_MOCK_ANALYSIS=false

# 前端 API 地址
VITE_API_URL=http://localhost:3001

# ========================================
# Sentry 错误追踪配置（生产环境推荐）
# ========================================
#
# 📊 Sentry 错误追踪和性能监控
# - 实时错误追踪和告警
# - 性能监控和慢查询分析
# - 用户行为追踪和会话重放
#
# 📝 配置步骤：
# 1. 注册 Sentry 账号: https://sentry.io/
# 2. 创建新项目（选择 Node.js 和 React）
# 3. 获取 DSN（Data Source Name）
# 4. 设置环境变量
#
# 后端 Sentry DSN
SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id

# 前端 Sentry DSN（通常与后端相同，或使用独立项目）
VITE_SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id

# Sentry 环境标识（可选，默认使用 NODE_ENV）
SENTRY_ENVIRONMENT=production
VITE_SENTRY_ENVIRONMENT=production

# ========================================
# 告警通知配置（用于系统告警）
# ========================================
#
# 告警接收邮箱（用于接收系统告警通知）
# 多个邮箱用逗号分隔
ALERT_EMAIL=admin@51talk.com,devops@51talk.com

