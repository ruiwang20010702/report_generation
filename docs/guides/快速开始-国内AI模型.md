# 🚀 快速开始 - 国内 AI 模型配置指南

5 分钟完成配置，开始使用超高性价比的国内 AI 服务！

---

## 🎯 推荐配置（3 选 1）

### 方案 1️⃣：DeepSeek（推荐 - 性价比最高）

**为什么选择 DeepSeek？**
- ✅ 新用户送 500万 tokens（约 5000 次免费分析）
- ✅ 超出后仅 ¥0.01/次分析（比 GPT-4 便宜 95%）
- ✅ 国内直连，响应速度快
- ✅ 2 分钟完成注册

**配置步骤：**

1. **注册账号**（30 秒）
   ```
   访问：https://platform.deepseek.com/
   支持：微信扫码 / 手机号注册
   ```

2. **获取 API Key**（30 秒）
   ```
   登录后 → 左侧菜单 "API Keys"
           → 点击 "创建 API Key"
           → 复制密钥（格式：sk-xxxxx）
   ```

3. **添加到配置**（30 秒）
   ```bash
   # 在项目根目录的 .env 文件中添加：
   DEEPSEEK_API_KEY=sk-你复制的密钥
   ```

4. **测试配置**
   ```bash
   npm run test:deepseek
   ```

**完成！** 看到 ✅ 就可以开始使用了。

---

### 方案 2️⃣：通义千问（推荐 - 免费额度大）

**为什么选择通义千问？**
- ✅ 每月 100万 tokens 免费（约 1000 次分析）
- ✅ 月月刷新，长期免费
- ✅ 阿里云服务，稳定可靠
- ✅ 无需信用卡

**配置步骤：**

1. **开通服务**（1 分钟）
   ```
   访问：https://dashscope.console.aliyun.com/
   点击：立即开通（免费，无需付费）
   ```

2. **获取 API Key**（30 秒）
   ```
   控制台 → 右上角 "API-KEY 管理"
          → "创建新的 API-KEY"
          → 复制密钥（格式：sk-xxxxx）
   ```

3. **添加到配置**（30 秒）
   ```bash
   # 在 .env 文件中添加：
   QWEN_API_KEY=sk-你复制的密钥
   ```

4. **测试配置**
   ```bash
   npm run test:qwen
   ```

**完成！** 享受免费的 AI 服务。

---

### 方案 3️⃣：智谱 GLM-4（推荐 - 质量最好）

**为什么选择 GLM-4？**
- ✅ 清华背景，国内老牌
- ✅ 送 25 元体验金
- ✅ Flash 版本完全免费
- ✅ 输出质量高

**配置步骤：**

1. **注册账号**（1 分钟）
   ```
   访问：https://open.bigmodel.cn/
   手机号/邮箱注册
   ```

2. **创建 API Key**（30 秒）
   ```
   控制台 → "API 管理"
          → "创建 API Key"
          → 复制密钥
   ```

3. **添加到配置**（30 秒）
   ```bash
   # 在 .env 文件中添加：
   GLM_API_KEY=你复制的密钥
   ```

4. **测试配置**
   ```bash
   npm run test:glm
   ```

**完成！** 开始使用高质量 AI。

---

## 🎯 一键对比测试

不确定选哪个？先全部配置，然后运行对比测试：

```bash
# 测试所有已配置的模型
npm run test:models
```

这会输出：
- ⚡ 每个模型的响应速度
- 💰 实际成本对比
- 📊 性能对比表
- 💡 个性化推荐

根据测试结果，选择最适合你的方案！

---

## ⚙️ 系统会自动选择最优模型

配置好后，系统启动时会自动按优先级选择：

```
启动日志会显示：

============================================================
🔷 使用 AI 服务: DeepSeek
📋 模型: deepseek-chat
✨ 特性: 国内直连 | 超高性价比 | 强大推理能力
============================================================
```

**自动选择优先级：**
```
1️⃣ DeepSeek     → 性价比最高
2️⃣ 智谱 GLM      → 质量最好
3️⃣ 通义千问      → 免费额度大
4️⃣ OpenAI       → 需要代理（不推荐国内用户）
```

---

## 🔄 想切换模型？

### 方法 1：修改优先级

在 `.env` 文件中，只保留你想用的那个 API Key：

```bash
# 只想用通义千问
QWEN_API_KEY=sk-xxx
# DEEPSEEK_API_KEY=sk-xxx  # 注释掉其他的
# GLM_API_KEY=xxx
```

### 方法 2：同时配置多个（推荐）

```bash
# 都配置上，系统会自动选择最优的
DEEPSEEK_API_KEY=sk-xxx
GLM_API_KEY=xxx
QWEN_API_KEY=sk-xxx
```

好处：
- 某个服务故障时自动降级
- 可以随时切换测试
- 灵活应对不同场景

---

## 📊 成本预估

根据你的使用频率，预估实际成本：

### 轻度使用（每天 5 次，每月 150 次）

| 模型 | 月成本 | 年成本 | 说明 |
|------|--------|--------|------|
| DeepSeek | ¥0 | ¥0 | 免费额度够用 1 年+ |
| 通义千问 | ¥0 | ¥0 | 永久免费（额度内） |
| 智谱 Flash | ¥0 | ¥0 | 永久免费 |

**推荐**：通义千问（长期免费）

---

### 中度使用（每天 20 次，每月 600 次）

| 模型 | 月成本 | 年成本 | 说明 |
|------|--------|--------|------|
| DeepSeek | ¥1 | ¥12 | 超高性价比 |
| 通义千问 | ¥0 | ¥0 | 免费额度足够 |
| 智谱 Flash | ¥0 | ¥0 | 免费但可能限速 |
| 智谱 Plus | ¥300 | ¥3,600 | 高质量但贵 |

**推荐**：通义千问（仍然免费）或 DeepSeek（稳定不限速）

---

### 重度使用（每天 100 次，每月 3000 次）

| 模型 | 月成本 | 年成本 | 说明 |
|------|--------|--------|------|
| DeepSeek | ¥25 | ¥300 | 最佳性价比 |
| 通义千问 | ¥160 | ¥1,920 | 超出免费额度 |
| 智谱 Plus | ¥1,500 | ¥18,000 | 质量好但贵 |

**推荐**：DeepSeek（便宜且稳定）

---

## ✅ 验证配置成功

### 方法 1：运行测试脚本

```bash
# 测试单个模型
npm run test:deepseek
npm run test:qwen
npm run test:glm

# 测试所有模型
npm run test:models
```

### 方法 2：查看启动日志

```bash
npm run dev:all
```

应该看到类似输出：

```
============================================================
🔷 使用 AI 服务: DeepSeek
📋 模型: deepseek-chat
✨ 特性: 国内直连 | 超高性价比 | 强大推理能力
============================================================

✅ 阿里云语音服务已初始化
💰 当前剩余免费额度: 120 分钟

Server running at http://localhost:3001
Frontend available at http://localhost:8080
```

看到 ✅ 就说明配置成功！

---

## 🎉 开始使用

1. **启动服务**
   ```bash
   npm run dev:all
   ```

2. **访问应用**
   ```
   打开浏览器：http://localhost:8080
   ```

3. **测试分析**
   - 点击"快速测试"
   - 关闭"使用模拟数据"
   - 点击"开始分析"

4. **查看后端日志**
   ```
   🔷 DeepSeek 正在分析 Video 1，模型: deepseek-chat
   ✅ Video 1 分析完成
   
   🔷 DeepSeek 正在生成对比报告，模型: deepseek-chat
   ✅ 报告生成完成
   ```

---

## ❓ 常见问题

### Q: 我已经配置了，但还是用的 Mock 数据？

**A**: 检查以下几点：
1. `.env` 文件是否在项目根目录
2. API Key 是否复制完整（包括 `sk-` 前缀）
3. 是否重启了服务（修改 .env 后需要重启）

```bash
# 停止服务（Ctrl+C）
# 重新启动
npm run dev:all
```

### Q: 测试脚本报错？

**A**: 检查 API Key 是否正确：
```bash
# 查看配置（会隐藏敏感信息）
cat .env | grep API_KEY
```

### Q: 想换回 OpenAI？

**A**: 两种方式：
```bash
# 方式 1：注释掉国内模型
# DEEPSEEK_API_KEY=sk-xxx
OPENAI_API_KEY=sk-your-openai-key

# 方式 2：删除 .env 中的国内模型配置
```

### Q: 可以不配置吗？

**A**: 可以！系统会自动使用 Mock 模式（模拟数据），适合功能测试。

---

## 📚 更多信息

- [AI 模型详细对比](./AI模型对比.md)
- [国内用户完整指南](./国内用户使用指南.md)
- [API 文档](./API文档.md)

---

**🎊 恭喜！你已经完成配置，开始享受超高性价比的 AI 服务吧！**

有问题？运行 `npm run test:models` 看看是哪里出了问题。

