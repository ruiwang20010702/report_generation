# æ€§èƒ½ä¼˜åŒ–ä¸ç›‘æ§å‘Šè­¦åˆ†ææŠ¥å‘Š

**ç”Ÿæˆæ—¶é—´ï¼š** 2025å¹´11æœˆ9æ—¥  
**åˆ†æèŒƒå›´ï¼š** å½“å‰ç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–å’Œç›‘æ§å‘Šè­¦å®ç°æƒ…å†µ

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–ç°çŠ¶

### âœ… å·²å®ç°çš„ä¼˜åŒ–ï¼ˆä¼˜ç‚¹ï¼‰

#### 1. **å¹¶è¡Œå¤„ç†æ¶æ„** â­â­â­â­â­
- **å®ç°æ–¹å¼**ï¼šä¸¤ä¸ªè§†é¢‘åŒæ—¶è½¬å½•å’Œåˆ†æ
- **æ•ˆæœ**ï¼šå¤„ç†æ—¶é—´å‡å°‘çº¦ 50%
- **ä»£ç ä½ç½®**ï¼š`server/services/videoAnalysisService.ts`
- **ä¼˜ç‚¹**ï¼š
  - âœ… å……åˆ†åˆ©ç”¨å¼‚æ­¥å¤„ç†èƒ½åŠ›
  - âœ… æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒ
  - âœ… ä»£ç å®ç°ç®€æ´é«˜æ•ˆ

#### 2. **ç›´æ¥URLè½¬å½•** â­â­â­â­â­
- **å®ç°æ–¹å¼**ï¼šé˜¿é‡Œäº‘æ”¯æŒç›´æ¥ä¼ URLï¼Œæ— éœ€ä¸‹è½½è§†é¢‘
- **æ•ˆæœ**ï¼šèŠ‚çœä¸‹è½½æ—¶é—´ï¼ˆçº¦30-60ç§’/è§†é¢‘ï¼‰
- **ä¼˜ç‚¹**ï¼š
  - âœ… å‡å°‘æœåŠ¡å™¨å­˜å‚¨å‹åŠ›
  - âœ… é™ä½å¸¦å®½æˆæœ¬
  - âœ… æå‡å¤„ç†é€Ÿåº¦

#### 3. **Rate Limitingä¿æŠ¤** â­â­â­â­
- **å®ç°æ–¹å¼**ï¼šåŸºäºå†…å­˜çš„IPé™æµï¼ˆ10æ¬¡/åˆ†é’Ÿï¼‰
- **ä»£ç ä½ç½®**ï¼š`api/analysis/analyze.ts`
- **ä¼˜ç‚¹**ï¼š
  - âœ… é˜²æ­¢DDoSæ”»å‡»
  - âœ… ä¿æŠ¤APIé…é¢
  - âœ… å®ç°ç®€å•ï¼Œæ— éœ€é¢å¤–ä¾èµ–
- **ç¼ºç‚¹**ï¼š
  - âš ï¸ åŸºäºå†…å­˜ï¼ŒServerlessç¯å¢ƒé‡å¯åä¸¢å¤±
  - âš ï¸ æ— æ³•è·¨å®ä¾‹å…±äº«

#### 4. **Vercelé…ç½®ä¼˜åŒ–** â­â­â­â­
- **è¶…æ—¶æ—¶é—´**ï¼š60ç§’ï¼ˆProè®¡åˆ’ï¼‰
- **å†…å­˜é™åˆ¶**ï¼š1024 MB
- **åŒºåŸŸé€‰æ‹©**ï¼šé¦™æ¸¯ï¼ˆhkg1ï¼‰ã€æ–°åŠ å¡ï¼ˆsin1ï¼‰
- **ä¼˜ç‚¹**ï¼š
  - âœ… é’ˆå¯¹å›½å†…ç”¨æˆ·ä¼˜åŒ–
  - âœ… åˆç†çš„èµ„æºåˆ†é…
  - âœ… æ”¯æŒé«˜å¹¶å‘

#### 5. **ä½¿ç”¨é‡è¿½è¸ª** â­â­â­
- **å®ç°æ–¹å¼**ï¼šå†…å­˜ä¸­ç»Ÿè®¡é˜¿é‡Œäº‘å…è´¹é¢åº¦ä½¿ç”¨
- **ä»£ç ä½ç½®**ï¼š`server/services/aliyunTranscriptionService.ts`
- **ä¼˜ç‚¹**ï¼š
  - âœ… å®æ—¶ç›‘æ§å‰©ä½™é¢åº¦
  - âœ… é˜²æ­¢è¶…å‡ºå…è´¹é¢åº¦
  - âœ… æˆæœ¬æ§åˆ¶

---

### âŒ æœªå®ç°çš„ä¼˜åŒ–ï¼ˆå¯ä¼˜åŒ–ç‚¹ï¼‰

#### 1. **ç¼“å­˜æœºåˆ¶ç¼ºå¤±** ğŸ”´ é«˜ä¼˜å…ˆçº§

**é—®é¢˜**ï¼š
- ç›¸åŒè§†é¢‘é‡å¤åˆ†ææ—¶ï¼Œæ¯æ¬¡éƒ½é‡æ–°è½¬å½•å’ŒAIåˆ†æ
- æµªè´¹APIé…é¢å’Œå¤„ç†æ—¶é—´

**å½±å“**ï¼š
- é‡å¤åˆ†ææµªè´¹ 130ç§’ï¼ˆ85%çš„æ—¶é—´ï¼‰
- æµªè´¹é˜¿é‡Œäº‘å…è´¹é¢åº¦
- æµªè´¹AIæ¨¡å‹è°ƒç”¨è´¹ç”¨

**å»ºè®®å®ç°**ï¼š
```typescript
// ä½¿ç”¨ Upstash Redis ç¼“å­˜
import { Redis } from '@upstash/redis';

const redis = new Redis({
  url: process.env.UPSTASH_REDIS_REST_URL!,
  token: process.env.UPSTASH_REDIS_REST_TOKEN!,
});

// ç¼“å­˜é”®ï¼šåŸºäºè§†é¢‘URLçš„å“ˆå¸Œå€¼
async function getCachedAnalysis(videoHash: string) {
  const cached = await redis.get(`analysis:${videoHash}`);
  if (cached) return JSON.parse(cached as string);
  return null;
}

async function setCachedAnalysis(videoHash: string, data: any, ttl: number = 3600) {
  await redis.set(`analysis:${videoHash}`, JSON.stringify(data), { ex: ttl });
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- é‡å¤åˆ†ææ—¶é—´ä» 150ç§’ â†’ 20ç§’ï¼ˆèŠ‚çœ 87%ï¼‰
- èŠ‚çœ 85% çš„APIè°ƒç”¨æˆæœ¬

**å®ç°éš¾åº¦**ï¼šâ­â­ï¼ˆä¸­ç­‰ï¼‰

---

#### 2. **è½¬å½•ç»“æœç¼“å­˜ç¼ºå¤±** ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

**é—®é¢˜**ï¼š
- è½¬å½•ç»“æœæœªç¼“å­˜ï¼Œç›¸åŒè§†é¢‘é‡å¤è½¬å½•
- æµªè´¹é˜¿é‡Œäº‘å…è´¹é¢åº¦

**å»ºè®®å®ç°**ï¼š
```typescript
// ç¼“å­˜è½¬å½•ç»“æœï¼ˆæ°¸ä¹…æˆ–é•¿æœŸï¼‰
async function getCachedTranscription(videoUrl: string) {
  const hash = crypto.createHash('sha256').update(videoUrl).digest('hex');
  const cached = await redis.get(`transcription:${hash}`);
  return cached ? JSON.parse(cached) : null;
}

async function cacheTranscription(videoUrl: string, result: TranscriptionResult) {
  const hash = crypto.createHash('sha256').update(videoUrl).digest('hex');
  // è½¬å½•ç»“æœå¯ä»¥é•¿æœŸç¼“å­˜ï¼ˆ30å¤©ï¼‰
  await redis.set(`transcription:${hash}`, JSON.stringify(result), { ex: 2592000 });
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- èŠ‚çœ 100% çš„é‡å¤è½¬å½•æˆæœ¬
- å¤„ç†æ—¶é—´å‡å°‘ 60-90ç§’

**å®ç°éš¾åº¦**ï¼šâ­â­ï¼ˆä¸­ç­‰ï¼‰

---

#### 3. **æ•°æ®åº“æŒä¹…åŒ–ç¼ºå¤±** ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

**é—®é¢˜**ï¼š
- ä½¿ç”¨é‡ç»Ÿè®¡ä»…å­˜åœ¨å†…å­˜ä¸­
- Serverlessç¯å¢ƒé‡å¯åæ•°æ®ä¸¢å¤±
- æ— æ³•è·¨å®ä¾‹å…±äº«ç»Ÿè®¡

**å»ºè®®å®ç°**ï¼š
```typescript
// æŒä¹…åŒ–åˆ° Supabase
async function saveUsageStats(stats: UsageStats) {
  await supabase
    .from('usage_stats')
    .upsert({
      service: 'aliyun',
      month: getCurrentMonth(),
      total_minutes: stats.totalMinutesUsed,
      remaining_minutes: stats.remainingMinutes,
      updated_at: new Date().toISOString(),
    }, {
      onConflict: 'service,month'
    });
}

async function loadUsageStats(): Promise<UsageStats> {
  const { data } = await supabase
    .from('usage_stats')
    .select('*')
    .eq('service', 'aliyun')
    .eq('month', getCurrentMonth())
    .single();
  
  return data || getDefaultStats();
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- æ•°æ®æŒä¹…åŒ–ï¼Œä¸ä¸¢å¤±
- æ”¯æŒå¤šå®ä¾‹éƒ¨ç½²
- å†å²æ•°æ®å¯æŸ¥è¯¢

**å®ç°éš¾åº¦**ï¼šâ­â­ï¼ˆä¸­ç­‰ï¼‰

---

#### 4. **å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¸è¶³** ğŸŸ¢ ä½ä¼˜å…ˆçº§

**å½“å‰çŠ¶æ€**ï¼š
- âœ… ä½¿ç”¨ Vite æ„å»ºä¼˜åŒ–
- âŒ æœªå®ç°ä»£ç åˆ†å‰²ï¼ˆReact.lazyï¼‰
- âŒ æœªå®ç°èµ„æºå‹ç¼©ä¼˜åŒ–
- âŒ å›¾ç‰‡æœªä¼˜åŒ–ä¸º WebP

**å»ºè®®å®ç°**ï¼š
```typescript
// ä»£ç åˆ†å‰²
const VideoAnalysisForm = lazy(() => import('@/components/VideoAnalysisForm'));
const ResultsPage = lazy(() => import('@/pages/ResultsPage'));

// ä½¿ç”¨ Suspense
<Suspense fallback={<LoadingSpinner />}>
  <VideoAnalysisForm />
</Suspense>
```

**é¢„æœŸæ•ˆæœ**ï¼š
- é¦–å±åŠ è½½æ—¶é—´å‡å°‘ 30-50%
- å‡å°‘åˆå§‹åŒ…å¤§å°

**å®ç°éš¾åº¦**ï¼šâ­ï¼ˆç®€å•ï¼‰

---

#### 5. **æ‰¹é‡å¤„ç†é˜Ÿåˆ—ç¼ºå¤±** ğŸŸ¢ ä½ä¼˜å…ˆçº§

**é—®é¢˜**ï¼š
- æ— æ³•å¤„ç†æ‰¹é‡ä»»åŠ¡
- æ— æ³•æ§åˆ¶å¹¶å‘æ•°

**å»ºè®®å®ç°**ï¼š
- ä½¿ç”¨ BullMQ æˆ–ç±»ä¼¼é˜Ÿåˆ—ç³»ç»Ÿ
- æ”¯æŒä»»åŠ¡ä¼˜å…ˆçº§
- æ”¯æŒé‡è¯•æœºåˆ¶

**å®ç°éš¾åº¦**ï¼šâ­â­â­â­ï¼ˆå›°éš¾ï¼‰

---

## ğŸ“ˆ ç›‘æ§å‘Šè­¦ç°çŠ¶

### âœ… å·²å®ç°çš„ç›‘æ§ï¼ˆä¼˜ç‚¹ï¼‰

#### 1. **åŸºç¡€æ—¥å¿—ç³»ç»Ÿ** â­â­â­
- **å®ç°æ–¹å¼**ï¼š`console.log` / `console.error`
- **ä¼˜ç‚¹**ï¼š
  - âœ… ç®€å•ç›´æ¥
  - âœ… æ— éœ€é¢å¤–ä¾èµ–
  - âœ… Vercelè‡ªåŠ¨æ”¶é›†æ—¥å¿—
- **ç¼ºç‚¹**ï¼š
  - âš ï¸ æ— ç»“æ„åŒ–æ—¥å¿—
  - âš ï¸ æ— æ—¥å¿—èšåˆ
  - âš ï¸ æ— æ—¥å¿—æŸ¥è¯¢èƒ½åŠ›

#### 2. **å¥åº·æ£€æŸ¥ç«¯ç‚¹** â­â­â­
- **å®ç°ä½ç½®**ï¼š`api/analysis/health.ts`
- **åŠŸèƒ½**ï¼š
  - âœ… æ£€æŸ¥æœåŠ¡çŠ¶æ€
  - âœ… æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®
  - âœ… è¿”å›ç‰ˆæœ¬ä¿¡æ¯
- **ç¼ºç‚¹**ï¼š
  - âš ï¸ æœªæ£€æŸ¥å®é™…æœåŠ¡å¯ç”¨æ€§
  - âš ï¸ æœªæ£€æŸ¥æ•°æ®åº“è¿æ¥
  - âš ï¸ æœªæ£€æŸ¥å¤–éƒ¨APIè¿æ¥

#### 3. **ä½¿ç”¨é‡ç»Ÿè®¡** â­â­â­
- **å®ç°ä½ç½®**ï¼š`server/services/aliyunTranscriptionService.ts`
- **åŠŸèƒ½**ï¼š
  - âœ… å®æ—¶è¿½è¸ªä½¿ç”¨é‡
  - âœ… è®¡ç®—å‰©ä½™é¢åº¦
  - âœ… è®¡ç®—ä½¿ç”¨ç™¾åˆ†æ¯”
- **ç¼ºç‚¹**ï¼š
  - âš ï¸ ä»…å­˜åœ¨å†…å­˜ä¸­
  - âš ï¸ æ— æŒä¹…åŒ–
  - âš ï¸ æ— è‡ªåŠ¨é‡ç½®æœºåˆ¶

#### 4. **Rate Limitingç»Ÿè®¡** â­â­
- **å®ç°ä½ç½®**ï¼š`api/analysis/analyze.ts`
- **åŠŸèƒ½**ï¼š
  - âœ… è¿½è¸ªè¯·æ±‚é¢‘ç‡
  - âœ… é˜²æ­¢æ»¥ç”¨
- **ç¼ºç‚¹**ï¼š
  - âš ï¸ æ— è¯¦ç»†ç»Ÿè®¡
  - âš ï¸ æ— å‘Šè­¦æœºåˆ¶

---

### âŒ æœªå®ç°çš„ç›‘æ§å‘Šè­¦ï¼ˆå¯ä¼˜åŒ–ç‚¹ï¼‰

#### 1. **å‘Šè­¦é€šçŸ¥ç³»ç»Ÿç¼ºå¤±** ğŸ”´ é«˜ä¼˜å…ˆçº§

**é—®é¢˜**ï¼š
- å…è´¹é¢åº¦å¿«ç”¨å®Œæ—¶æ— é€šçŸ¥
- æœåŠ¡å¼‚å¸¸æ—¶æ— é€šçŸ¥
- é”™è¯¯ç‡ä¸Šå‡æ—¶æ— é€šçŸ¥

**å»ºè®®å®ç°**ï¼š
```typescript
// é‚®ä»¶å‘Šè­¦
import nodemailer from 'nodemailer';

async function sendAlert(type: 'quota' | 'error' | 'performance', data: any) {
  const transporter = nodemailer.createTransport({
    // é…ç½®é‚®ä»¶æœåŠ¡
  });

  let subject = '';
  let message = '';

  switch (type) {
    case 'quota':
      subject = 'âš ï¸ é˜¿é‡Œäº‘å…è´¹é¢åº¦å‘Šè­¦';
      message = `å½“å‰å‰©ä½™é¢åº¦: ${data.remainingMinutes} åˆ†é’Ÿ (${data.usagePercentage}%)`;
      break;
    case 'error':
      subject = 'ğŸš¨ æœåŠ¡å¼‚å¸¸å‘Šè­¦';
      message = `é”™è¯¯ç‡: ${data.errorRate}%`;
      break;
    case 'performance':
      subject = 'âš¡ æ€§èƒ½å‘Šè­¦';
      message = `å¹³å‡å“åº”æ—¶é—´: ${data.avgResponseTime}ms`;
      break;
  }

  await transporter.sendMail({
    to: process.env.ALERT_EMAIL,
    subject,
    text: message,
  });
}

// ä½¿ç”¨é‡å‘Šè­¦
if (stats.remainingMinutes < 20) {
  await sendAlert('quota', stats);
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- åŠæ—¶å‘ç°é—®é¢˜
- é¿å…æœåŠ¡ä¸­æ–­
- æˆæœ¬æ§åˆ¶

**å®ç°éš¾åº¦**ï¼šâ­â­ï¼ˆä¸­ç­‰ï¼‰

---

#### 2. **å¤–éƒ¨ç›‘æ§å·¥å…·æœªé›†æˆ** ğŸ”´ é«˜ä¼˜å…ˆçº§

**é—®é¢˜**ï¼š
- æ— é”™è¯¯è¿½è¸ªï¼ˆSentryï¼‰
- æ— æ€§èƒ½ç›‘æ§ï¼ˆVercel Analyticsï¼‰
- æ— å¯ç”¨æ€§ç›‘æ§ï¼ˆUptime Robotï¼‰

**å»ºè®®é›†æˆ**ï¼š

**Sentryï¼ˆé”™è¯¯è¿½è¸ªï¼‰**ï¼š
```typescript
import * as Sentry from '@sentry/node';

Sentry.init({
  dsn: process.env.SENTRY_DSN,
  tracesSampleRate: 1.0,
  environment: process.env.NODE_ENV,
});

// æ•è·é”™è¯¯
try {
  await analyzeVideo();
} catch (error) {
  Sentry.captureException(error);
  throw error;
}
```

**Vercel Analytics**ï¼š
```typescript
// åœ¨ vercel.json ä¸­å¯ç”¨
{
  "analytics": {
    "id": "your-analytics-id"
  }
}
```

**Uptime Robot**ï¼š
- é…ç½®å¥åº·æ£€æŸ¥ç«¯ç‚¹ç›‘æ§
- è®¾ç½®5åˆ†é’Ÿæ£€æŸ¥é—´éš”
- é…ç½®å‘Šè­¦é€šçŸ¥

**é¢„æœŸæ•ˆæœ**ï¼š
- å®æ—¶é”™è¯¯è¿½è¸ª
- æ€§èƒ½æŒ‡æ ‡å¯è§†åŒ–
- å¯ç”¨æ€§ç›‘æ§

**å®ç°éš¾åº¦**ï¼šâ­â­ï¼ˆä¸­ç­‰ï¼‰

---

#### 3. **æ€§èƒ½æŒ‡æ ‡ä¸ŠæŠ¥ç¼ºå¤±** ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

**é—®é¢˜**ï¼š
- æ— æ€§èƒ½æŒ‡æ ‡æ”¶é›†
- æ— å“åº”æ—¶é—´ç»Ÿè®¡
- æ— P95/P99å»¶è¿Ÿè¿½è¸ª

**å»ºè®®å®ç°**ï¼š
```typescript
// æ€§èƒ½æŒ‡æ ‡æ”¶é›†
interface PerformanceMetrics {
  endpoint: string;
  method: string;
  duration: number;
  statusCode: number;
  timestamp: number;
}

async function trackPerformance(metrics: PerformanceMetrics) {
  // ä¸ŠæŠ¥åˆ°ç›‘æ§æœåŠ¡
  await fetch('https://your-monitoring-service/api/metrics', {
    method: 'POST',
    body: JSON.stringify(metrics),
  });
}

// ä½¿ç”¨ä¸­é—´ä»¶
app.use((req, res, next) => {
  const start = Date.now();
  res.on('finish', () => {
    const duration = Date.now() - start;
    trackPerformance({
      endpoint: req.path,
      method: req.method,
      duration,
      statusCode: res.statusCode,
      timestamp: Date.now(),
    });
  });
  next();
});
```

**é¢„æœŸæ•ˆæœ**ï¼š
- æ€§èƒ½è¶‹åŠ¿åˆ†æ
- ç“¶é¢ˆè¯†åˆ«
- å®¹é‡è§„åˆ’

**å®ç°éš¾åº¦**ï¼šâ­â­â­ï¼ˆè¾ƒéš¾ï¼‰

---

#### 4. **ä½¿ç”¨é‡è‡ªåŠ¨é‡ç½®ç¼ºå¤±** ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

**é—®é¢˜**ï¼š
- æ¯æœˆ1å·éœ€è¦æ‰‹åŠ¨é‡ç½®
- æ— è‡ªåŠ¨é‡ç½®æœºåˆ¶

**å»ºè®®å®ç°**ï¼š
```typescript
// æ£€æŸ¥æ˜¯å¦éœ€è¦é‡ç½®
function checkAndResetQuota() {
  const now = new Date();
  const lastReset = stats.resetDate;
  
  // å¦‚æœæ˜¯æ–°æœˆä»½ï¼Œé‡ç½®é¢åº¦
  if (now.getMonth() !== lastReset.getMonth() || 
      now.getFullYear() !== lastReset.getFullYear()) {
    stats.totalMinutesUsed = 0;
    stats.remainingMinutes = stats.freeMinutesLimit;
    stats.resetDate = new Date(now.getFullYear(), now.getMonth() + 1, 1);
    
    // æŒä¹…åŒ–åˆ°æ•°æ®åº“
    saveUsageStats(stats);
    
    console.log('âœ… å…è´¹é¢åº¦å·²è‡ªåŠ¨é‡ç½®');
  }
}

// å®šæœŸæ£€æŸ¥ï¼ˆæ¯å°æ—¶ï¼‰
setInterval(checkAndResetQuota, 60 * 60 * 1000);
```

**é¢„æœŸæ•ˆæœ**ï¼š
- è‡ªåŠ¨åŒ–ç®¡ç†
- å‡å°‘äººå·¥å¹²é¢„

**å®ç°éš¾åº¦**ï¼šâ­ï¼ˆç®€å•ï¼‰

---

#### 5. **ç»“æ„åŒ–æ—¥å¿—ç¼ºå¤±** ğŸŸ¢ ä½ä¼˜å…ˆçº§

**é—®é¢˜**ï¼š
- æ—¥å¿—æ ¼å¼ä¸ç»Ÿä¸€
- éš¾ä»¥æŸ¥è¯¢å’Œåˆ†æ

**å»ºè®®å®ç°**ï¼š
```typescript
interface LogEntry {
  timestamp: string;
  level: 'info' | 'warn' | 'error';
  message: string;
  metadata?: Record<string, any>;
  traceId?: string;
}

function log(entry: Omit<LogEntry, 'timestamp'>) {
  const logEntry: LogEntry = {
    timestamp: new Date().toISOString(),
    ...entry,
  };
  
  console.log(JSON.stringify(logEntry));
  
  // å‘é€åˆ°æ—¥å¿—æœåŠ¡ï¼ˆå¯é€‰ï¼‰
  if (process.env.LOG_SERVICE_URL) {
    fetch(process.env.LOG_SERVICE_URL, {
      method: 'POST',
      body: JSON.stringify(logEntry),
    }).catch(() => {}); // é™é»˜å¤±è´¥
  }
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- æ—¥å¿—å¯æŸ¥è¯¢
- ä¾¿äºé—®é¢˜æ’æŸ¥

**å®ç°éš¾åº¦**ï¼šâ­ï¼ˆç®€å•ï¼‰

---

## ğŸ“Š ä¼˜å…ˆçº§æ€»ç»“

### æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | ä¼˜åŒ–é¡¹ | é¢„æœŸæ•ˆæœ | å®ç°éš¾åº¦ | æ¨èæ—¶é—´ |
|--------|--------|----------|----------|----------|
| ğŸ”´ é«˜ | ç¼“å­˜æœºåˆ¶ | èŠ‚çœ87%æ—¶é—´ï¼Œ85%æˆæœ¬ | â­â­ | 1-2å‘¨ |
| ğŸŸ¡ ä¸­ | è½¬å½•ç»“æœç¼“å­˜ | èŠ‚çœ100%é‡å¤è½¬å½•æˆæœ¬ | â­â­ | 2-3å‘¨ |
| ğŸŸ¡ ä¸­ | æ•°æ®åº“æŒä¹…åŒ– | æ•°æ®ä¸ä¸¢å¤±ï¼Œæ”¯æŒå¤šå®ä¾‹ | â­â­ | 1-2å‘¨ |
| ğŸŸ¢ ä½ | å‰ç«¯æ€§èƒ½ä¼˜åŒ– | å‡å°‘30-50%åŠ è½½æ—¶é—´ | â­ | 1å‘¨ |
| ğŸŸ¢ ä½ | æ‰¹é‡å¤„ç†é˜Ÿåˆ— | æ”¯æŒæ‰¹é‡ä»»åŠ¡ | â­â­â­â­ | é•¿æœŸ |

### ç›‘æ§å‘Šè­¦ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | ç›‘æ§é¡¹ | é¢„æœŸæ•ˆæœ | å®ç°éš¾åº¦ | æ¨èæ—¶é—´ |
|--------|--------|----------|----------|----------|
| ğŸ”´ é«˜ | å‘Šè­¦é€šçŸ¥ç³»ç»Ÿ | åŠæ—¶å‘ç°é—®é¢˜ | â­â­ | 1å‘¨ |
| ğŸ”´ é«˜ | å¤–éƒ¨ç›‘æ§å·¥å…·é›†æˆ | é”™è¯¯è¿½è¸ªã€æ€§èƒ½ç›‘æ§ | â­â­ | 1-2å‘¨ |
| ğŸŸ¡ ä¸­ | æ€§èƒ½æŒ‡æ ‡ä¸ŠæŠ¥ | æ€§èƒ½è¶‹åŠ¿åˆ†æ | â­â­â­ | 2-3å‘¨ |
| ğŸŸ¡ ä¸­ | ä½¿ç”¨é‡è‡ªåŠ¨é‡ç½® | è‡ªåŠ¨åŒ–ç®¡ç† | â­ | 1å‘¨ |
| ğŸŸ¢ ä½ | ç»“æ„åŒ–æ—¥å¿— | æ—¥å¿—å¯æŸ¥è¯¢ | â­ | 1å‘¨ |

---

## ğŸ¯ æ¨èå®æ–½è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µï¼ˆ1-2å‘¨ï¼‰ï¼šæ ¸å¿ƒä¼˜åŒ–
1. âœ… å®ç°ç¼“å­˜æœºåˆ¶ï¼ˆRedisï¼‰
2. âœ… é›†æˆSentryé”™è¯¯è¿½è¸ª
3. âœ… å®ç°å‘Šè­¦é€šçŸ¥ç³»ç»Ÿ
4. âœ… å®ç°ä½¿ç”¨é‡è‡ªåŠ¨é‡ç½®

### ç¬¬äºŒé˜¶æ®µï¼ˆ2-3å‘¨ï¼‰ï¼šå¢å¼ºåŠŸèƒ½
1. âœ… å®ç°è½¬å½•ç»“æœç¼“å­˜
2. âœ… æ•°æ®åº“æŒä¹…åŒ–ä½¿ç”¨é‡
3. âœ… é›†æˆVercel Analytics
4. âœ… å®ç°ç»“æ„åŒ–æ—¥å¿—

### ç¬¬ä¸‰é˜¶æ®µï¼ˆé•¿æœŸï¼‰ï¼šé«˜çº§ä¼˜åŒ–
1. âœ… æ€§èƒ½æŒ‡æ ‡ä¸ŠæŠ¥ç³»ç»Ÿ
2. âœ… å‰ç«¯æ€§èƒ½ä¼˜åŒ–
3. âœ… æ‰¹é‡å¤„ç†é˜Ÿåˆ—

---

## ğŸ’¡ æœ€ä½³å®è·µå»ºè®®

### 1. ç¼“å­˜ç­–ç•¥
- **ç¼“å­˜é”®è®¾è®¡**ï¼šä½¿ç”¨è§†é¢‘URLçš„SHA256å“ˆå¸Œ
- **TTLè®¾ç½®**ï¼šåˆ†æç»“æœ1å°æ—¶ï¼Œè½¬å½•ç»“æœ30å¤©
- **ç¼“å­˜å¤±æ•ˆ**ï¼šæ”¯æŒæ‰‹åŠ¨æ¸…é™¤

### 2. ç›‘æ§å‘Šè­¦
- **å‘Šè­¦é˜ˆå€¼**ï¼š
  - å…è´¹é¢åº¦ < 20åˆ†é’Ÿï¼šè­¦å‘Š
  - å…è´¹é¢åº¦ < 10åˆ†é’Ÿï¼šä¸¥é‡
  - é”™è¯¯ç‡ > 5%ï¼šè­¦å‘Š
  - é”™è¯¯ç‡ > 10%ï¼šä¸¥é‡
  - å“åº”æ—¶é—´ > 10ç§’ï¼šè­¦å‘Š

### 3. æ€§èƒ½ä¼˜åŒ–
- **æ¸è¿›å¼ä¼˜åŒ–**ï¼šå…ˆå®ç°é«˜ä¼˜å…ˆçº§åŠŸèƒ½
- **A/Bæµ‹è¯•**ï¼šå¯¹æ¯”ä¼˜åŒ–æ•ˆæœ
- **ç›‘æ§éªŒè¯**ï¼šç¡®ä¿ä¼˜åŒ–æœ‰æ•ˆ

---

## ğŸ“ˆ é¢„æœŸæ”¶ç›Š

### æ€§èƒ½æå‡
- **å¤„ç†æ—¶é—´**ï¼šä»150ç§’ â†’ 20ç§’ï¼ˆé‡å¤åˆ†æï¼ŒèŠ‚çœ87%ï¼‰
- **APIæˆæœ¬**ï¼šèŠ‚çœ85%çš„é‡å¤è°ƒç”¨æˆæœ¬
- **ç”¨æˆ·ä½“éªŒ**ï¼šå“åº”é€Ÿåº¦æå‡6-7å€

### ç›‘æ§èƒ½åŠ›
- **é—®é¢˜å‘ç°**ï¼šä»è¢«åŠ¨å‘ç° â†’ ä¸»åŠ¨å‘Šè­¦
- **é—®é¢˜å®šä½**ï¼šä»æ—¥å¿—æœç´¢ â†’ é”™è¯¯è¿½è¸ª
- **æ€§èƒ½åˆ†æ**ï¼šä»æ— æ•°æ® â†’ å®Œæ•´æŒ‡æ ‡

---

**æœ€åæ›´æ–°ï¼š** 2025å¹´11æœˆ9æ—¥  
**ä¸‹æ¬¡å®¡æŸ¥ï¼š** 2025å¹´11æœˆ16æ—¥

