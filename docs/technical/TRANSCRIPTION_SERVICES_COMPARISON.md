# 🎙️ 语音转录服务对比指南

## ⚠️ 重要说明

**当前系统配置：强制使用阿里云语音服务**

为了确保输出一致性，系统当前已配置为**强制使用阿里云语音服务**，不再支持自动降级到其他服务。

- ✅ **已启用**：阿里云智能语音服务（120分钟/月免费）
- ❌ **已禁用**：AssemblyAI 和 Whisper 降级功能

如果阿里云不可用或额度用完，需要：
1. 检查API Key配置是否正确
2. 等待下月额度重置（每月1号 00:00）
3. 或充值阿里云账户继续使用

> **未来计划**：可能会恢复智能降级策略（阿里云 → AssemblyAI → Whisper）

---

## 📋 概述

本文档对比了项目支持的三种语音转录服务，帮助您了解各服务的特点和适用场景。

## 🌟 服务对比总览

| 特性 | 🇨🇳 阿里云 | 🌍 AssemblyAI | 🤖 OpenAI Whisper |
|------|----------|--------------|------------------|
| **免费额度** | 120分钟/月 | 300分钟/月 | ❌ 无 |
| **国内访问** | ✅ 直接访问 | ❌ 需要VPN | ⚠️ 需要代理 |
| **转录速度** | ⚡⚡⚡ | ⚡⚡ | ⚡⚡⚡ |
| **超额价格** | ¥0.25/分钟<br>($0.035) | $0.03/分钟 | $0.006/分钟 |
| **说话人分离** | ✅ | ✅ | ❌ |
| **英语教育场景** | ✅ 支持 | ⚠️ 通用转录 | ⚠️ 通用转录 |
| **语音情感分析** | ⚠️ 仅中文8k | ✅ 支持（多语言） | ❌ 不支持 |
| **输入格式支持** | ✅ 视频URL<br>✅ 音频URL<br>✅ 本地文件 | ✅ 视频URL<br>✅ 音频URL<br>✅ 本地文件 | ⚠️ 仅本地文件<br>（需先下载） |
| **英语准确率** | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| **中文支持** | ✅ 优秀 | ⚠️ 一般 | ✅ 良好 |
| **API稳定性** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| **配置难度** | 🟡 中等 | 🟢 简单 | 🟢 简单 |
| **文档质量** | 🟡 中文 | 🟢 英文完善 | 🟢 英文完善 |

## 🎯 选择指南

### 方案 1: 阿里云（推荐国内用户）

#### ✅ 适合人群
- 🇨🇳 在中国大陆使用
- 🚫 没有VPN或不想使用VPN
- 💰 希望降低成本（有免费额度）
- ⚡ 需要快速稳定的转录服务

#### 📊 成本分析
```
场景: 每天10个视频 × 5分钟 = 1500分钟/月

仅阿里云方案:
  - 前120分钟: 免费
  - 剩余1380分钟: 1380 × ¥0.25 = ¥345 (~$48/月)
  
阿里云 + Whisper方案:
  - 前120分钟: 免费（阿里云）
  - 剩余1380分钟: 1380 × $0.006 = $8.28/月
  总计: $8.28/月（推荐）✨
```

#### 🚀 快速开始
```bash
# 1. 注册阿里云账号
https://www.aliyun.com/

# 2. 开通智能语音服务
https://nls-portal.console.aliyun.com/

# 3. 配置环境变量
ALIYUN_ACCESS_KEY_ID=your_key_id
ALIYUN_ACCESS_KEY_SECRET=your_key_secret
ALIYUN_NLS_APP_KEY=your_app_key

# 详细步骤：docs/getting-started/ALIYUN_QUICKSTART.md
```

#### ⚠️ 注意事项
- 需要实名认证（中国大陆手机号）
- 签名算法较复杂（已封装，无需担心）
- 免费额度每月1号重置

---

### 方案 2: AssemblyAI（推荐国际用户）

#### ✅ 适合人群
- 🌍 在国外使用
- 🔐 有稳定的VPN
- 📊 需要详细的转录数据
- 💰 希望最大化免费额度

#### 📊 成本分析
```
场景: 每天10个视频 × 5分钟 = 1500分钟/月

AssemblyAI + Whisper方案:
  - 前300分钟: 免费（AssemblyAI）
  - 剩余1200分钟: 1200 × $0.006 = $7.20/月
  总计: $7.20/月
```

#### 🚀 快速开始
```bash
# 1. 注册 AssemblyAI
https://www.assemblyai.com/

# 2. 获取 API Key
https://www.assemblyai.com/app/account

# 3. 配置环境变量
ASSEMBLYAI_API_KEY=your_api_key
```

#### ⚠️ 注意事项
- 中国大陆需要VPN
- 网络不稳定可能影响速度
- 免费额度每月重置

---

### 方案 3: OpenAI Whisper（保底方案）

#### ✅ 适合人群
- 🔧 不想配置多个服务
- 💳 愿意支付转录费用
- 🎯 需要最高准确率
- 🌐 网络环境稳定（有代理）

#### 📊 成本分析
```
场景: 每天10个视频 × 5分钟 = 1500分钟/月

仅 Whisper 方案:
  - 全部1500分钟: 1500 × $0.006 = $9.00/月
```

#### 🚀 快速开始
```bash
# 1. 获取 OpenAI API Key
https://platform.openai.com/api-keys

# 2. 配置环境变量
OPENAI_API_KEY=sk-your-api-key

# 3. （可选）配置代理
HTTPS_PROXY=http://127.0.0.1:4780
# ALL_PROXY=socks5h://127.0.0.1:4781
```

#### ⚠️ 注意事项
- 中国大陆需要代理访问
- 无免费额度，按使用量计费
- 不支持说话人分离

---

## 🏆 推荐配置方案

### 方案 A: 国内用户最佳配置 ⭐⭐⭐⭐⭐

```bash
# 配置三个服务（三层保障）
ALIYUN_ACCESS_KEY_ID=...           # 主力（120分钟免费）
ALIYUN_ACCESS_KEY_SECRET=...
ALIYUN_NLS_APP_KEY=...
ASSEMBLYAI_API_KEY=...             # 备用（300分钟免费，需VPN）
OPENAI_API_KEY=...                 # 保底（付费）
```

**优势：**
- ✅ 前420分钟完全免费
- ✅ 无需VPN（阿里云）
- ✅ 三层降级保障
- ✅ 月节省 $2.52（1500分钟场景）

**降级策略：**
```
阿里云（120分钟）→ AssemblyAI（300分钟）→ Whisper（付费）
```

---

### 方案 B: 国内用户简化配置 ⭐⭐⭐⭐

```bash
# 配置两个服务（简单可靠）
ALIYUN_ACCESS_KEY_ID=...           # 主力（120分钟免费）
ALIYUN_ACCESS_KEY_SECRET=...
ALIYUN_NLS_APP_KEY=...
OPENAI_API_KEY=...                 # 保底（付费）
```

**优势：**
- ✅ 无需VPN
- ✅ 配置简单
- ✅ 前120分钟免费
- ✅ 月节省 $0.72（1500分钟场景）

**降级策略：**
```
阿里云（120分钟）→ Whisper（付费）
```

---

### 方案 C: 国际用户最佳配置 ⭐⭐⭐⭐⭐

```bash
# 配置两个服务（国际优化）
ASSEMBLYAI_API_KEY=...             # 主力（300分钟免费）
OPENAI_API_KEY=...                 # 保底（付费）
```

**优势：**
- ✅ 无需VPN（国外环境）
- ✅ 配置简单
- ✅ 前300分钟免费
- ✅ 月节省 $1.80（1500分钟场景）

**降级策略：**
```
AssemblyAI（300分钟）→ Whisper（付费）
```

---

### 方案 D: 最简配置 ⭐⭐⭐

```bash
# 仅配置 OpenAI（保底）
OPENAI_API_KEY=...
```

**优势：**
- ✅ 配置极简
- ✅ 准确率高
- ✅ 稳定可靠

**劣势：**
- ❌ 无免费额度
- ❌ 成本较高（$9/月，1500分钟场景）
- ❌ 需要代理（国内）

---

## 📊 成本对比表

### 每月 1500 分钟使用量

| 方案 | 配置 | 免费部分 | 付费部分 | 月成本 | 年成本 |
|------|------|---------|---------|--------|--------|
| **方案 A** | 阿里云+AssemblyAI+Whisper | 420分钟 | 1080分钟 | **$6.48** | **$77.76** ⭐ |
| **方案 B** | 阿里云+Whisper | 120分钟 | 1380分钟 | **$8.28** | **$99.36** |
| **方案 C** | AssemblyAI+Whisper | 300分钟 | 1200分钟 | **$7.20** | **$86.40** |
| **方案 D** | 仅Whisper | 0分钟 | 1500分钟 | **$9.00** | **$108.00** |

### 每月 500 分钟使用量（轻度使用）

| 方案 | 免费部分 | 付费部分 | 月成本 |
|------|---------|---------|--------|
| **方案 A** | 420分钟 | 80分钟 | **$0.48** ⭐ |
| **方案 B** | 120分钟 | 380分钟 | **$2.28** |
| **方案 C** | 300分钟 | 200分钟 | **$1.20** |
| **方案 D** | 0分钟 | 500分钟 | **$3.00** |

## 🎤 说话人分离功能对比

**说话人分离（Speaker Diarization）** 是指自动识别和区分音频中不同说话人的技术，对于1对1教学场景非常重要（区分老师和学生）。

### 支持说话人分离的服务

| 服务商 | 说话人分离 | 说明 | 当前状态 |
|--------|-----------|------|---------|
| 🇨🇳 **阿里云** | ✅ **支持** | 支持最多2个说话人（老师+学生），已集成 | ✅ **已集成** |
| 🌍 **AssemblyAI** | ✅ **支持** | 支持说话人标签（Speaker A/B），已集成但当前禁用 | ❌ 已禁用 |
| 🇨🇳 **腾讯云** | ✅ **支持** | 支持声纹识别，说话人分离功能完善 | ⚠️ 需集成 |
| 🇨🇳 **科大讯飞** | ✅ **支持** | 多人对话场景，准确率86%+ | ⚠️ 需集成 |
| 🇨🇳 **百度智能云** | ✅ **支持** | 多说话人语音识别技术突破 | ⚠️ 需集成 |
| 🇨🇳 **华为云** | ⚠️ **待确认** | 需查询官方文档确认 | ⚠️ 需集成 |
| 🤖 **OpenAI Whisper** | ❌ **不支持** | 不提供说话人分离功能 | ❌ 不支持 |

### 💡 说话人分离的重要性

对于**1对1英语教学视频分析**，说话人分离功能至关重要：

- ✅ **区分师生对话**：自动识别哪段是老师说的，哪段是学生说的
- ✅ **精准分析**：可以分别分析老师的教学质量和学生的表现
- ✅ **互动统计**：统计师生对话比例、学生参与度等
- ✅ **错误定位**：准确识别学生的发音错误和语法问题

### 🎯 推荐选择（需要说话人分离）

如果你**必须使用说话人分离功能**，推荐以下服务：

1. **阿里云**（当前已集成）⭐
   - ✅ 已集成，开箱即用
   - ✅ 支持最多2个说话人
   - ⚠️ 免费额度较小（120分钟/月）

2. **百度智能云**（推荐集成）⭐⭐⭐⭐⭐
   - ✅ 免费额度最大（50小时/月 = 3000分钟）
   - ✅ 支持说话人分离
   - ⚠️ 需要额外开发集成

3. **腾讯云**（性价比高）⭐⭐⭐⭐
   - ✅ 免费额度较大（10小时/月 = 600分钟）
   - ✅ 支持说话人分离
   - ✅ 价格较低（¥0.24/分钟）
   - ⚠️ 需要额外开发集成

4. **科大讯飞**（中文识别强）⭐⭐⭐⭐
   - ✅ 中文识别优秀
   - ✅ 支持说话人分离
   - ⚠️ 免费额度按次数计算（500次/天）

---

## 📚 英语教育场景转录功能对比

**英语教育场景优化** 是指服务商针对教育场景（如1对1教学、课堂录音）提供的专门优化功能，可能包括教育词汇识别、师生对话优化等。

### 支持英语教育场景的服务

| 服务商 | 教育场景优化 | 说明 | 当前状态 |
|--------|------------|------|---------|
| 🇨🇳 **阿里云** | ✅ **支持** | 通义听悟支持教学培训场景，实时语音识别支持英语，适用于课堂录音分析等场景 | ✅ **已集成** |
| 🇨🇳 **科大讯飞** | ✅ **支持** | 智慧课堂产品，提供AI中英文学习、课堂实录与分析等功能，专门针对教育场景优化 | ⚠️ 需集成 |
| 🇨🇳 **腾讯云** | ⚠️ **通用转录** | 提供通用语音识别服务，官方文档未明确提及教育场景专门优化 | ⚠️ 需集成 |
| 🇨🇳 **百度智能云** | ⚠️ **通用转录** | 提供通用语音识别服务，官方文档未明确提及教育场景专门优化 | ⚠️ 需集成 |
| 🇨🇳 **华为云** | ⚠️ **待确认** | 需查询官方文档确认是否提供教育场景优化 | ⚠️ 需集成 |
| 🌍 **AssemblyAI** | ⚠️ **通用转录** | 高精度转录，未明确教育场景优化 | ❌ 已禁用 |
| 🤖 **OpenAI Whisper** | ⚠️ **通用转录** | 高精度转录，未明确教育场景优化 | ❌ 不支持 |

### 💡 教育场景优化的重要性

对于**1对1英语教学视频分析**，教育场景优化可以带来：

- ✅ **教育词汇识别**：更好地识别教学常用词汇和表达
- ✅ **师生对话优化**：针对师生对话场景的识别准确率提升
- ✅ **课堂环境适应**：适应课堂环境中的背景噪音、回声等
- ✅ **教学术语识别**：准确识别教学术语、学科词汇等

### 🎯 推荐选择（需要教育场景优化）

如果你**需要专门的教育场景优化**，推荐以下服务：

1. **阿里云**（当前已集成）⭐
   - ✅ 已集成，开箱即用
   - ✅ 通义听悟支持教学培训场景
   - ✅ 实时语音识别支持英语，适用于课堂录音分析
   - ⚠️ 免费额度较小（120分钟/月）

2. **科大讯飞**（教育场景专业）⭐⭐⭐⭐⭐
   - ✅ 智慧课堂产品，专门针对教育场景优化
   - ✅ 提供AI中英文学习、课堂实录与分析等功能
   - ✅ 精准备课、高效互动、精准辅导等全面教育功能
   - ✅ 中文识别优秀
   - ⚠️ 需要额外开发集成

3. **其他服务商**（通用转录）
   - ⚠️ 主要提供通用转录功能
   - ⚠️ 虽然可以用于教育场景，但没有专门优化
   - ✅ 准确率仍然很高（如Whisper、AssemblyAI）

---

## 🎭 语音情感分析功能对比

**语音情感分析（Emotion Analysis）** 是指通过分析语音的声学特征（音高、语速、音量等）来识别说话人的情感状态，对于评估学生的学习状态、自信心等非常重要。

### 支持语音情感分析的服务

| 服务商 | 语音情感分析 | 说明 | 当前状态 |
|--------|------------|------|---------|
| 🌍 **AssemblyAI** | ✅ **支持** | 提供语音情感分析功能，识别积极、消极、中立等情感 | ❌ 已禁用 |
| 🇨🇳 **阿里云** | ⚠️ **部分支持** | 仅支持**中文8k**情感识别，且需关闭语义断句功能。**不支持英语情感分析** | ⚠️ 有限支持 |
| 🇨🇳 **腾讯云** | ⚠️ **待确认** | 官方文档未明确提及语音情感分析功能，需进一步查询确认 | ⚠️ 需集成 |
| 🇨🇳 **科大讯飞** | ⚠️ **待确认** | 官方文档未明确提及语音情感分析功能，需进一步查询确认 | ⚠️ 需集成 |
| 🇨🇳 **百度智能云** | ⚠️ **待确认** | 官方文档未明确提及语音情感分析功能，需进一步查询确认 | ⚠️ 需集成 |
| 🇨🇳 **华为云** | ⚠️ **待确认** | 官方文档未明确提及语音情感分析功能，需进一步查询确认 | ⚠️ 需集成 |
| 🤖 **OpenAI Whisper** | ❌ **不支持** | 不提供语音情感分析功能 | ❌ 不支持 |

### 💡 语音情感分析的重要性

对于**1对1英语教学视频分析**，语音情感分析可以带来：

- ✅ **自信心评估**：通过音高、音量等特征评估学生的自信程度
- ✅ **参与度量化**：通过语速、停顿模式等量化学生的参与度
- ✅ **情绪状态识别**：识别学生的紧张、兴奋、投入等情绪状态
- ✅ **流利度分析**：通过语速、停顿频率等精确分析流利度
- ✅ **对比分析**：两次课堂的情感数据可以直接对比，量化进步

### 🎯 推荐选择（需要语音情感分析）

如果你**必须使用语音情感分析功能**，推荐以下服务：

1. **AssemblyAI**（明确支持）⭐⭐⭐⭐⭐
   - ✅ 明确支持语音情感分析
   - ✅ 识别积极、消极、中立等情感
   - ✅ 支持多语言（包括英语）
   - ⚠️ 已集成但当前禁用
   - ⚠️ 需要VPN（国内用户）

2. **阿里云**（部分支持）⚠️
   - ⚠️ **仅支持中文8k情感识别**
   - ⚠️ **不支持英语情感分析**
   - ⚠️ 需关闭语义断句功能才能使用
   - ⚠️ 对于英语教育场景不适用

3. **其他国内服务商**（待确认）⚠️
   - ⚠️ 官方文档未明确提及语音情感分析功能
   - ⚠️ 需要联系技术支持确认是否支持
   - ⚠️ 如果支持，需要额外开发集成
   - ✅ 国内访问快（如果支持）

### 📝 替代方案

如果服务商不提供语音情感分析，可以考虑以下替代方案：

1. **基于时间戳推断**（推荐）⭐
   - ✅ 零成本：基于现有转录结果
   - ✅ 可量化：计算语速（WPM）、停顿频率等
   - ✅ 易实现：纯计算逻辑，无需外部依赖
   - ⚠️ 无法获取音高、音量等声学特征

2. **基于文本内容推断**
   - ✅ 使用LLM分析文本情感
   - ✅ 分析词汇选择、句式结构等
   - ⚠️ 仅基于文本，无法获取语音特征

3. **自建情感分析模型**
   - ✅ 完全可控
   - ⚠️ 需要大量标注数据
   - ⚠️ 开发成本高

> **详细方案**：参考 [语音情感分析-现状与方案总结.md](../emotion-analysis/语音情感分析-现状与方案总结.md)

---

## 📹 输入格式支持对比（视频URL支持）

**输入格式支持** 是指服务商是否支持直接通过视频URL链接进行转录，还是需要先下载文件再上传。

### 支持视频URL的服务

| 服务商 | 视频URL | 音频URL | 本地文件 | 说明 | 当前状态 |
|--------|--------|--------|---------|------|---------|
| 🇨🇳 **阿里云** | ✅ **支持** | ✅ **支持** | ✅ **支持** | 通义听悟支持直接传URL（FileLink参数），无需下载 | ✅ **已集成** |
| 🌍 **AssemblyAI** | ✅ **支持** | ✅ **支持** | ✅ **支持** | 支持直接传URL（audio_url参数），无需下载 | ❌ 已禁用 |
| 🤖 **OpenAI Whisper** | ⚠️ **需下载** | ⚠️ **需下载** | ✅ **支持** | 需要先下载视频/音频，提取音频后上传文件 | ❌ 不支持 |
| 🇨🇳 **腾讯云** | ❌ **不支持** | ❌ **不支持** | ✅ **支持** | 需先上传本地文件，不支持直接传URL | ⚠️ 需集成 |
| 🇨🇳 **科大讯飞** | ❌ **不支持** | ❌ **不支持** | ✅ **支持** | 需先上传本地文件，不支持直接传URL | ⚠️ 需集成 |
| 🇨🇳 **百度智能云** | ❌ **不支持** | ❌ **不支持** | ✅ **支持** | 需先上传本地文件，不支持直接传URL | ⚠️ 需集成 |
| 🇨🇳 **华为云** | ❌ **不支持** | ❌ **不支持** | ✅ **支持** | 需先上传本地文件，不支持直接传URL | ⚠️ 需集成 |

### 💡 视频URL支持的重要性

对于**1对1英语教学视频分析**，直接支持视频URL可以带来：

- ✅ **无需下载**：节省服务器存储空间和带宽
- ✅ **处理速度快**：服务商直接从URL拉取视频，无需等待下载完成
- ✅ **使用便捷**：用户只需提供视频链接，无需上传大文件
- ✅ **成本更低**：减少服务器存储和带宽成本

### 🎯 推荐选择（需要视频URL支持）

如果你**需要直接传视频URL**，推荐以下服务：

1. **阿里云**（当前已集成）⭐
   - ✅ 已集成，开箱即用
   - ✅ 支持直接传视频URL（FileLink参数）
   - ✅ 无需下载，服务商自动处理
   - ⚠️ 免费额度较小（120分钟/月）

2. **AssemblyAI**（明确支持）⭐⭐⭐⭐⭐
   - ✅ 明确支持视频URL（audio_url参数）
   - ✅ 无需下载，服务商自动处理
   - ✅ 免费额度较大（300分钟/月）
   - ⚠️ 已集成但当前禁用
   - ⚠️ 需要VPN（国内用户）

3. **OpenAI Whisper**（需下载）⚠️
   - ⚠️ **不支持直接传URL**
   - ⚠️ 需要先下载视频到服务器
   - ⚠️ 需要提取音频并压缩
   - ⚠️ 文件大小限制25MB
   - ✅ 准确率高
   - ⚠️ 需要代理（国内）

### 📝 URL格式要求

**支持的URL格式：**
- ✅ 直接的视频文件URL（如：`https://example.com/video.mp4`）
- ✅ 直接的音频文件URL（如：`https://example.com/audio.mp3`）
- ✅ 公开可访问的URL（无需认证）

**不支持的URL格式：**
- ❌ YouTube、优酷等需要登录的视频链接
- ❌ 需要认证的私有视频链接
- ❌ 需要特殊权限才能访问的URL

### ⚠️ 注意事项

1. **URL可访问性**：确保视频URL是公开可访问的，服务商需要能够直接访问该URL
2. **网络要求**：服务商需要能够访问你提供的URL，如果URL在国内，国外服务商可能无法访问
3. **文件大小**：虽然支持URL，但某些服务商可能对文件大小有限制
4. **格式支持**：确保视频/音频格式是服务商支持的格式（通常支持MP4、MP3、WAV等常见格式）

### 📋 其他国内服务商URL支持情况

根据官方文档查询结果，以下国内服务商**不支持直接传视频URL**：

- ❌ **腾讯云**：需先下载视频，然后上传本地文件
- ❌ **科大讯飞**：需先下载视频，然后上传本地文件
- ❌ **百度智能云**：需先下载视频，然后上传本地文件
- ❌ **华为云**：需先下载视频，然后上传本地文件

**原因分析：**
这些服务商的API设计主要面向本地文件上传场景，不支持直接传递URL参数。如果使用这些服务商，需要：
1. 先从URL下载视频到服务器
2. 提取音频（如果是视频文件）
3. 上传文件到服务商进行转录

**对比：**
- ✅ **阿里云**：支持直接传URL（FileLink参数），无需下载
- ✅ **AssemblyAI**：支持直接传URL（audio_url参数），无需下载

---

## 🔧 其他国内替代方案

如果不使用阿里云，还有其他国内选择：

### 1️⃣ 腾讯云语音识别

**优势：**
- ✅ 免费额度：**10小时/月**
- ✅ 价格：¥0.24/分钟（超额后）
- ✅ 国内访问快
- ✅ 支持说话人分离

**输入格式：**
- ❌ **不支持直接传视频URL**（需先下载并上传本地文件）
- ✅ 支持本地文件上传

**获取：**
- 网站：https://cloud.tencent.com/product/asr
- 文档：https://cloud.tencent.com/document/product/1093

**集成难度：** 🟡 中等（需要额外开发）

---

### 2️⃣ 讯飞开放平台

**优势：**
- ✅ 免费额度：500次/天
- ✅ 价格：¥0.2/分钟（超额后）
- ✅ 中文识别优秀
- ✅ 国内技术领先
- ✅ **支持说话人分离**（多人对话场景，准确率86%+）

**输入格式：**
- ❌ **不支持直接传视频URL**（需先下载并上传本地文件）
- ✅ 支持本地文件上传

**获取：**
- 网站：https://www.xfyun.cn/
- 文档：https://www.xfyun.cn/doc/asr/voicedictation/API.html

**集成难度：** 🟡 中等（需要额外开发）

---

### 3️⃣ 百度智能云

**优势：**
- ✅ 免费额度：50小时/月
- ✅ 价格：¥0.40/分钟（超额后）
- ✅ 中文识别强
- ✅ API文档完善
- ✅ **支持说话人分离**（多说话人语音识别技术突破）

**输入格式：**
- ❌ **不支持直接传视频URL**（需先下载并上传本地文件）
- ✅ 支持本地文件上传

**获取：**
- 网站：https://cloud.baidu.com/product/speech
- 文档：https://cloud.baidu.com/doc/SPEECH/index.html

**集成难度：** 🟡 中等（需要额外开发）

---

### 4️⃣ 华为云语音识别

**优势：**
- ✅ 支持实时和离线转写
- ✅ 高并发处理能力
- ⚠️ 说话人分离：需查询官方文档确认

**输入格式：**
- ❌ **不支持直接传视频URL**（需先下载并上传本地文件）
- ✅ 支持本地文件上传

**获取：**
- 网站：https://www.huaweicloud.com/product/asr.html

**集成难度：** 🟡 中等（需要额外开发）

---

## 💡 选择建议总结

### 🇨🇳 国内用户

| 使用量 | 推荐方案 | 原因 |
|--------|---------|------|
| **<120分钟/月** | 阿里云 + Whisper | 完全免费（阿里云） |
| **120-420分钟/月** | 阿里云 + AssemblyAI + Whisper | 最大化免费额度 |
| **>420分钟/月** | 阿里云 + AssemblyAI + Whisper | 降级到低成本Whisper |

### 🌍 国际用户

| 使用量 | 推荐方案 | 原因 |
|--------|---------|------|
| **<300分钟/月** | AssemblyAI + Whisper | 完全免费（AssemblyAI） |
| **>300分钟/月** | AssemblyAI + Whisper | 降级到低成本Whisper |

### 💼 企业用户

| 需求 | 推荐方案 | 原因 |
|------|---------|------|
| **成本优先** | 阿里云 + AssemblyAI + Whisper | 最大化免费额度 |
| **稳定优先** | 仅 Whisper + 代理 | 减少降级切换 |
| **国内+国际** | 全配置（三个服务） | 适应不同网络环境 |

---

## 📚 延伸阅读

### 配置指南
- 🇨🇳 [阿里云5分钟快速配置](../getting-started/ALIYUN_QUICKSTART.md)
- 🌍 [AssemblyAI配置指南](../getting-started/ASSEMBLYAI_QUICKSTART.md)
- 🔧 [环境变量完整配置](../getting-started/ENVIRONMENT_SETUP.md)

### 技术文档
- 📗 [阿里云集成详细文档](./ALIYUN_INTEGRATION.md)
- 📘 [AssemblyAI集成详细文档](./ASSEMBLYAI_INTEGRATION.md)
- 💰 [性能和成本优化指南](./PERFORMANCE_GUIDE.md)

### 故障排查
- 🛠️ [完整故障排除指南](../guides/TROUBLESHOOTING.md)
- 🆘 [紧急问题解决](../../IMMEDIATE_HELP.md)

---

## ❓ 常见问题

### Q: 当前系统使用哪个服务？
**A:** 系统当前**强制使用阿里云语音服务**，不再支持降级到其他服务。

### Q: 可以同时配置多个服务吗？
**A:** 当前不支持。系统已配置为强制使用阿里云，以确保输出一致性。

### Q: 哪个服务准确率最高？
**A:** OpenAI Whisper 和 AssemblyAI 准确率最高（⭐⭐⭐⭐⭐），阿里云也很不错（⭐⭐⭐⭐）。

### Q: 如何查看当前使用的是哪个服务？
**A:** 查看后端日志，会显示 🇨🇳（阿里云）。当前系统只使用阿里云。

### Q: 免费额度用完后会自动降级吗？
**A:** 不会。系统当前不支持自动降级。如果额度用完，需要等待下月重置或充值。

### Q: 可以强制使用某个服务吗？
**A:** 系统已强制使用阿里云。如需使用其他服务，需要修改代码配置。

---

**需要帮助？** 查看 [故障排查指南](../guides/TROUBLESHOOTING.md) 或提交 Issue。

祝使用愉快！🎉

